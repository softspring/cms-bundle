{% trans_default_domain 'sfs_cms_contents' %}

{% embed '@SfsCms/admin/_embeds/_card.html.twig' with {'title': 'General'} %}
    {% trans_default_domain 'sfs_cms_contents' %}
    {% block content %}
        <dl>
            <dt>{{ ('admin_'~content_type~'.read.name')|trans }}</dt>
            <dd>{{ entity.name }}</dd>
            <dt>{{ ('admin_'~content_type~'.read.sites')|trans }}</dt>
            <dd>{{ entity.sites|map((site) => site|sfs_cms_site_name)|join(', ') }}</dd>
            <dt>{{ ('admin_'~content_type~'.read.published')|trans }}</dt>
            <dd>
                {% if entity.publishedVersion %}
                    <a href="{{ url('sfs_cms_admin_content_'~content_type~'_version_info', {'content':entity, 'version':entity.publishedVersion}) }}">v{{ entity.publishedVersion.versionNumber }}</a>
                {% endif %}

                {{ entity.publishedVersion ? entity.publishedVersion.createdAt|date('H:i d-m-Y') : (('admin_'~content_type~'.read.unpublished')|trans) }}

                {% if not content_config.admin.unpublish.is_granted or is_granted(content_config.admin.unpublish.is_granted, entity) %}
                    {% if entity.publishedVersion %}
                        <a href="{{ url('sfs_cms_admin_content_'~content_type~'_unpublish', {'content':entity}) }}"
                           onclick="return confirm('{{ ('admin_'~content_type~'.read.actions.unpublish.confirm')|trans({'%name%':entity.name}) }}')">{{ ('admin_'~content_type~'.read.actions.unpublish.link')|trans({'%name%':entity.name})|lower }}</a>
                    {% endif %}
                {% endif %}
            </dd>
        </dl>
    {% endblock %}
{% endembed %}